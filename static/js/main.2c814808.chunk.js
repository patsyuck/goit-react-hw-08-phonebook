(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{12:function(t,n,e){"use strict";e.d(n,"l",(function(){return u})),e.d(n,"j",(function(){return s})),e.d(n,"k",(function(){return b})),e.d(n,"e",(function(){return j})),e.d(n,"b",(function(){return O})),e.d(n,"c",(function(){return d})),e.d(n,"a",(function(){return l})),e.d(n,"f",(function(){return f})),e.d(n,"i",(function(){return h})),e.d(n,"g",(function(){return p})),e.d(n,"h",(function(){return g})),e.d(n,"d",(function(){return m}));var c=e(5),r=e(15),o=e.n(r),i=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},a=function(){o.a.defaults.headers.common.Authorization=""},u=Object(c.b)("USER_REGISTER"),s=Object(c.b)("USER_LOGIN"),b=Object(c.b)("USER_LOGOUT"),j=Object(c.b)("GET_CURRENT_USER"),O=Object(c.b)("AUTH/REQUEST"),d=Object(c.b)("AUTH/SUCCESS"),l=Object(c.b)("AUTH/ERROR"),f=Object(c.b)("LOGOUT/ERROR"),h=function(t){return function(n){n(O()),o.a.post("https://connections-api.herokuapp.com/users/signup",t).then((function(t){n(d()),i(t.data.token),n(u(t.data))})).catch((function(t){n(l(t))}))}},p=function(t){return function(n){n(O()),o.a.post("https://connections-api.herokuapp.com/users/login",t).then((function(t){n(d()),i(t.data.token),n(s(t.data))})).catch((function(t){n(l(t))}))}},g=function(){return function(t){t(O()),o.a.post("https://connections-api.herokuapp.com/users/logout").then((function(){t(d()),a(),t(b())})).catch((function(n){t(f(n))}))}},m=function(){return function(t,n){var e=n().persistedReducer.token;e&&(i(e),t(O()),o.a.get("https://connections-api.herokuapp.com/users/current").then((function(n){t(d()),t(j(n.data))})).catch((function(n){t(l(n))})))}}},18:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"l",(function(){return a})),e.d(n,"b",(function(){return u})),e.d(n,"g",(function(){return s})),e.d(n,"i",(function(){return b})),e.d(n,"e",(function(){return j})),e.d(n,"f",(function(){return O})),e.d(n,"d",(function(){return d})),e.d(n,"k",(function(){return l})),e.d(n,"h",(function(){return f})),e.d(n,"c",(function(){return h})),e.d(n,"j",(function(){return p}));var c=e(5),r=e(15),o=e.n(r),i=Object(c.b)("ADD_CONTACT"),a=Object(c.b)("UPDATE_CONTACT"),u=Object(c.b)("DELETE_CONTACT"),s=Object(c.b)("FILTER_CONTACTS"),b=Object(c.b)("GET_DATA"),j=Object(c.b)("API/REQUEST"),O=Object(c.b)("API/SUCCESS"),d=Object(c.b)("API/ERROR"),l=function(t){return function(n){n(j()),o.a.post("https://connections-api.herokuapp.com/contacts",t).then((function(){n(O()),n(i(t))})).catch((function(t){n(d(t))}))}},f=function(){return function(t){t(j()),o.a.get("https://connections-api.herokuapp.com/contacts").then((function(n){t(O()),t(b(n))})).catch((function(n){t(d(n))}))}},h=function(t){return function(n){n(j()),o.a.delete("https://connections-api.herokuapp.com/contacts/".concat(t)).then((function(){n(O()),n(u(t))})).catch((function(t){n(d(t))}))}},p=function(t,n){return function(e){e(j()),o.a.patch("https://connections-api.herokuapp.com/contacts/".concat(t),n).then((function(t){e(O()),e(a(t.data))})).catch((function(t){e(d(t))}))}}},40:function(t,n,e){},54:function(t,n,e){},99:function(t,n,e){"use strict";e.r(n);var c,r=e(0),o=e.n(r),i=e(26),a=e.n(i),u=e(9),s=(e(54),e(22)),b=e(23),j=e(25),O=e(24),d=e(17),l=e(6),f=(e(55),e(42)),h=e.n(f),p=e(1),g=function(t){Object(j.a)(e,t);var n=Object(O.a)(e);function e(){return Object(s.a)(this,e),n.apply(this,arguments)}return Object(b.a)(e,[{key:"render",value:function(){return Object(p.jsx)(h.a,{type:"Puff",color:"#00BFFF",height:500,width:500})}}]),e}(r.Component),m=function(t){return t.persistedReducer.isLogin},k=function(t){return t.persistedReducer.user?t.persistedReducer.user.name:""},x={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"black"},activeLink:{color:"red"}},v=Object(u.b)((function(t){return{isAuthorized:m(t)}}),null)((function(t){var n=t.isAuthorized;return Object(p.jsxs)("div",{children:[Object(p.jsx)(d.b,{to:"/",exact:!0,style:x.link,activeStyle:x.activeLink,children:"Home"}),n&&Object(p.jsx)(d.b,{to:"/contacts",exact:!0,style:x.link,activeStyle:x.activeLink,children:"Contacts"})]})})),y=e(12),E=(e(40),e.p+"static/media/mine.e8c87480.jpg"),R=Object(u.b)((function(t){return{name:k(t),avatar:E}}),(function(t){return{onLogout:function(){return t(Object(y.h)())}}}))((function(t){var n=t.avatar,e=t.name,c=t.onLogout;return Object(p.jsxs)("div",{className:"menuUser",children:[Object(p.jsx)("img",{className:"userImage",src:n,alt:"",width:"32"}),Object(p.jsxs)("span",{className:"userName",children:["Welcome, ",e]}),Object(p.jsx)("button",{type:"button",onClick:c,children:"Logout"})]})})),A={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"black"},activeLink:{color:"red"}},T=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(d.b,{to:"/register",exact:!0,style:A.link,activeStyle:A.activeLink,children:"Registration"}),Object(p.jsx)(d.b,{to:"/login",exact:!0,style:A.link,activeStyle:A.activeLink,children:"Login"})]})},L=Object(u.b)((function(t){return{isAuthorized:m(t)}}),null)((function(t){var n=t.isAuthorized;return Object(p.jsxs)("header",{className:"menuHeader",children:[Object(p.jsx)(v,{}),n?Object(p.jsx)(R,{}):Object(p.jsx)(T,{})]})})),S=e(2),C=e(27),z=["component","isAuthorized"],U=Object(u.b)((function(t){return{isAuthorized:m(t)}}),null)((function(t){var n=t.component,e=t.isAuthorized,c=Object(C.a)(t,z);return Object(p.jsx)(l.b,Object(S.a)(Object(S.a)({},c),{},{render:function(t){return e?Object(p.jsx)(n,Object(S.a)({},t)):Object(p.jsx)(l.a,{to:"/login"})}}))})),N=["component","isAuthorized"],P=Object(u.b)((function(t){return{isAuthorized:m(t)}}),null)((function(t){var n=t.component,e=t.isAuthorized,c=Object(C.a)(t,N);return Object(p.jsx)(l.b,Object(S.a)(Object(S.a)({},c),{},{render:function(t){return e&&c.restricted?Object(p.jsx)(l.a,{to:"/contacts"}):Object(p.jsx)(n,Object(S.a)({},t))}}))})),_=Object(r.lazy)((function(){return e.e(4).then(e.bind(null,105))})),w=Object(r.lazy)((function(){return e.e(5).then(e.bind(null,106))})),D=Object(r.lazy)((function(){return e.e(6).then(e.bind(null,107))})),F=Object(r.lazy)((function(){return e.e(3).then(e.bind(null,108))})),I=function(t){Object(j.a)(e,t);var n=Object(O.a)(e);function e(){return Object(s.a)(this,e),n.apply(this,arguments)}return Object(b.a)(e,[{key:"componentDidMount",value:function(){this.props.onRefresh()}},{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsxs)(d.a,{children:[Object(p.jsx)(L,{}),Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)(g,{}),children:Object(p.jsxs)(l.d,{children:[Object(p.jsx)(P,{path:"/",exact:!0,component:_}),Object(p.jsx)(P,{path:"/register",component:D,restricted:!0}),Object(p.jsx)(P,{path:"/login",component:w,restricted:!0}),Object(p.jsx)(U,{path:"/contacts",component:F}),Object(p.jsx)(l.a,{to:"/"})]})})]})})}}]),e}(r.Component),G={onRefresh:y.d},H=Object(u.b)(null,G)(I),B=e(21),W=e(5),J=e(19),M=e(43),Q=e.n(M),q=e(7),K=e(18),V={user:null,token:null,isLogin:!1,isProcessing:!1,authError:null,contacts:[],filter:"",isFetching:!1,fetchError:null},X=Object(W.c)(V,(c={},Object(q.a)(c,y.l,(function(t,n){var e=n.payload;return Object(S.a)(Object(S.a)({},t),{},{user:e.user,token:e.token,isLogin:!0})})),Object(q.a)(c,y.j,(function(t,n){var e=n.payload;return Object(S.a)(Object(S.a)({},t),{},{user:e.user,token:e.token,isLogin:!0})})),Object(q.a)(c,y.k,(function(){return V})),Object(q.a)(c,y.e,(function(t,n){var e=n.payload;return Object(S.a)(Object(S.a)({},t),{},{user:e,isLogin:!0})})),Object(q.a)(c,K.i,(function(t,n){var e=n.payload;return Object(S.a)(Object(S.a)({},t),{},{contacts:e.data})})),Object(q.a)(c,K.a,(function(t,n){var e=n.payload;return Object(S.a)(Object(S.a)({},t),{},{contacts:[].concat(Object(B.a)(t.contacts),[e])})})),Object(q.a)(c,K.l,(function(t,n){var e=n.payload;return Object(S.a)(Object(S.a)({},t),{},{contacts:[].concat(Object(B.a)(t.contacts.filter((function(t){return t.id!==e.id}))),[e])})})),Object(q.a)(c,K.b,(function(t,n){var e=n.payload;return Object(S.a)(Object(S.a)({},t),{},{contacts:t.contacts.filter((function(t){return t.id!==e}))})})),Object(q.a)(c,K.g,(function(t,n){var e=n.payload;return Object(S.a)(Object(S.a)({},t),{},{filter:e.target.value})})),Object(q.a)(c,K.e,(function(t){return Object(S.a)(Object(S.a)({},t),{},{isFetching:!0})})),Object(q.a)(c,K.f,(function(t){return Object(S.a)(Object(S.a)({},t),{},{isFetching:!1})})),Object(q.a)(c,K.d,(function(t,n){var e=n.payload;return console.log(e.message),Object(S.a)(Object(S.a)({},t),{},{isFetching:!1,fetchError:e.message})})),Object(q.a)(c,y.b,(function(t){return Object(S.a)(Object(S.a)({},t),{},{isProcessing:!0})})),Object(q.a)(c,y.c,(function(t){return Object(S.a)(Object(S.a)({},t),{},{isProcessing:!1})})),Object(q.a)(c,y.a,(function(t,n){var e=n.payload;return console.log(e.message),Object(S.a)(Object(S.a)({},t),{},{isProcessing:!1,authError:e.message,isLogin:!1})})),Object(q.a)(c,y.f,(function(t,n){var e=n.payload;return console.log(e.message),Object(S.a)(Object(S.a)({},t),{},{isProcessing:!1,authError:e.message})})),c)),Y=Object(B.a)(Object(W.d)({serializableCheck:{ignoredActions:[J.a,J.f,J.b,J.c,J.d,J.e]}})),Z={key:"repeta",storage:Q.a,whitelist:["token"]},$=Object(J.g)(Z,X),tt=Object(W.a)({reducer:{persistedReducer:$},middleware:Y}),nt={store:tt,persistor:Object(J.h)(tt)},et=e(44);a.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(u.a,{store:nt.store,children:Object(p.jsx)(et.a,{loading:null,persistor:nt.persistor,children:Object(p.jsx)(H,{})})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.2c814808.chunk.js.map